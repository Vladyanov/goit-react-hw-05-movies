{"version":3,"file":"static/js/437.ceae04d7.chunk.js","mappings":"sSAEMA,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAc,mCAAG,sGACLL,EAASM,IAAI,wBADR,uBACpBC,EADoB,EACpBA,KADoB,kBAErBA,GAFqB,2CAAH,qDAKdC,EAAe,mCAAG,WAAMC,GAAN,yFACNT,EAASM,IAAT,iBAAuBG,IADjB,uBACrBF,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfG,EAAY,mCAAG,WAAMC,GAAN,yFACHX,EAASM,IAAI,gBAAiB,CACnDH,OAAQ,CACNQ,MAAAA,KAHsB,uBAClBJ,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDASZK,EAAO,mCAAG,WAAMH,GAAN,yFACET,EAASM,IAAT,iBAAuBG,EAAvB,aADF,uBACbF,EADa,EACbA,KADa,kBAEdA,GAFc,2CAAH,sDAKPM,EAAU,mCAAG,WAAMJ,GAAN,yFACDT,EAASM,IAAT,iBAAuBG,EAAvB,aADC,uBAChBF,EADgB,EAChBA,KADgB,kBAEjBA,GAFiB,2CAAH,qD,8IChCvB,EAAyB,8BAAzB,EAAiE,+BAAjE,EAAgH,qCAAhH,EAAoK,oCAApK,EAAgN,6BAAhN,EAA+P,uCAA/P,EAA6S,4B,SCiF7S,EAtEqB,WAAO,IAAD,EACzB,GAAwCO,EAAAA,EAAAA,YAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACQP,GAAOQ,EAAAA,EAAAA,MAAPR,GACFS,GAAWC,EAAAA,EAAAA,MAIXC,GAAO,WAFIC,EAAAA,EAAAA,MAEKC,aAAT,eAAgBF,OAAQ,IAE/BG,GAASC,EAAAA,EAAAA,cAAY,kBAAMN,EAASE,EAAf,GAAsB,CAACA,EAAMF,IAcxD,IAZAO,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,gHAEKlB,EAAAA,EAAAA,IAAgBC,GAFrB,OAEVkB,EAFU,OAGhBX,EAAgBW,GAHA,gDAIPC,EAJO,KAIPA,SACTC,QAAQC,IAAIF,EAASrB,KAAKwB,SALV,yDAAH,qDAQjBL,GACD,GAAE,CAACjB,EAAIO,IAEHD,EAAL,CAIA,IAAMiB,EAAYC,KAAKC,MAAkC,GAA5BnB,EAAaoB,cACpCC,EAAcrB,EAAasB,aAAaC,MAAM,KAC9CC,EAAS,GAIf,OAFAxB,EAAawB,OAAOC,KAAI,SAAAC,GAAK,OAAIF,EAAOG,KAAKD,EAAME,KAAtB,KAG3B,iCACE,mBAAQC,QAASrB,EAAQsB,UAAWC,EAAYC,KAAK,SAArD,sBAGA,iBAAKF,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEE,IAAG,8CAAyCjC,EAAakC,aACzDC,IAAI,QAGR,iBAAKL,UAAWC,EAAhB,WACE,eAAGD,UAAWC,EAAd,UACG/B,EAAaoC,eADhB,KACkCf,EAAY,GAD9C,QAGA,wCAAgBJ,EAAhB,QACA,cAAGa,UAAWC,EAAd,uBACA,uBAAI/B,EAAaqC,YACjB,cAAGP,UAAWC,EAAd,qBACA,uBAAIP,EAAOc,KAAK,eAGpB,iBAAKR,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,qCACA,SAAC,KAAD,CAAMD,UAAWC,EAAUQ,GAAG,OAAOhC,MAAO,CAAEF,KAAAA,GAA9C,mBAGA,SAAC,KAAD,CAAMyB,UAAWC,EAAUQ,GAAG,UAAUhC,MAAO,CAAEF,KAAAA,GAAjD,yBAIF,SAAC,KAAD,MAxCH,CA2CF,C","sources":["components/Modules/moviesAPI.jsx","webpack://react-homework-template/./src/components/MovieDetails/movie-details.module.scss?e0db","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '75312bed02c00aa4fc762f08e8bb0223',\n  },\n});\n\nexport const trendingMovies = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const searchMovies = async query => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"movie-details_button__-LbCU\",\"wrapper\":\"movie-details_wrapper__eLwwi\",\"movie_details\":\"movie-details_movie_details__QrAuK\",\"text_wrapper\":\"movie-details_text_wrapper__BOe8a\",\"title\":\"movie-details_title__ekJTg\",\"additoinal_info\":\"movie-details_additoinal_info__ELKdU\",\"link\":\"movie-details_link__y+gMH\"};","import { useState, useEffect, useCallback } from 'react';\nimport {\n  Link,\n  useParams,\n  useNavigate,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\nimport { getMovieDetails } from 'components/Modules/moviesAPI';\n\nimport css from './movie-details.module.scss';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState();\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const location = useLocation();\n\n  const from = location.state?.from || '/';\n\n  const goBack = useCallback(() => navigate(from), [from, navigate]);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const result = await getMovieDetails(id);\n        setMovieDetails(result);\n      } catch ({ response }) {\n        console.log(response.data.message);\n      }\n    };\n    fetchMovies();\n  }, [id, setMovieDetails]);\n\n  if (!movieDetails) {\n    return;\n  }\n\n  const userScore = Math.round(movieDetails.vote_average * 10);\n  const releaseDate = movieDetails.release_date.split('-');\n  const genres = [];\n\n  movieDetails.genres.map(genre => genres.push(genre.name));\n\n  return (\n    <>\n      <button onClick={goBack} className={css.button} type=\"button\">\n        Go back\n      </button>\n      <div className={css.movie_details}>\n        <div className={css.wrapper}>\n          <img\n            src={`https://www.themoviedb.org/t/p/w300/${movieDetails.poster_path}`}\n            alt=\"\"\n          />\n        </div>\n        <div className={css.text_wrapper}>\n          <p className={css.title}>\n            {movieDetails.original_title} ({releaseDate[0]})\n          </p>\n          <p>User score: {userScore}%</p>\n          <p className={css.title}>Overview</p>\n          <p>{movieDetails.overview}</p>\n          <p className={css.title}>Genres</p>\n          <p>{genres.join(', ')}</p>\n        </div>\n      </div>\n      <div className={css.additoinal_info}>\n        <p className={css.title}>Additional information</p>\n        <Link className={css.link} to=\"cast\" state={{ from }}>\n          Cast\n        </Link>\n        <Link className={css.link} to=\"reviews\" state={{ from }}>\n          Reviews\n        </Link>\n      </div>\n      <Outlet />\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["instance","axios","baseURL","params","api_key","trendingMovies","get","data","getMovieDetails","id","searchMovies","query","getCast","getReviews","useState","movieDetails","setMovieDetails","useParams","navigate","useNavigate","from","useLocation","state","goBack","useCallback","useEffect","fetchMovies","result","response","console","log","message","userScore","Math","round","vote_average","releaseDate","release_date","split","genres","map","genre","push","name","onClick","className","css","type","src","poster_path","alt","original_title","overview","join","to"],"sourceRoot":""}